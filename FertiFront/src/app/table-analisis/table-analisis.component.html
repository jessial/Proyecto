<h2>Análisis por finca</h2>
<nz-table #nzTable [nzData]="dataSet">
  <thead>
    <tr>
      <th nzShowExpand></th>
      <th>Finca</th>
      <th>Área</th>
      <th>Cultivo</th>
      <th>Fecha análisis</th>
    </tr>
  </thead>
  <tbody>
    <ng-template ngFor let-data [ngForOf]="nzTable.data">
      <tr>
        <td nzShowExpand [(nzExpand)]="mapOfExpandData[data.codigoAnalisis]"></td>
        <td>{{data.parcela.lugar.nombre + '-' + ' ' + data.parcela.lugar.ubicacion}}</td>
        <td>{{data.parcela.area}}</td>
        <td>{{data.parcela.tipoCultivo.nombre + '-' + ' ' + data.parcela.tipoCultivo.variedad}}</td>
        <td>{{data.fechaAnalisis | date: 'dd/MM/yyyy'}}</td>
      </tr>
      <tr [nzExpand]="mapOfExpandData[data.codigoAnalisis]">
        <td></td>
        <td colspan="4">
          <h4>Elementos</h4>
          <div *ngFor="let elemento of data.elementos">
            {{elemento.elemento.elemento + ' ' + elemento.cantidad + ' ' + elemento.unidad.nombreUnidad}}
          </div>
        </td>
      </tr>
    </ng-template>
  </tbody>
</nz-table>